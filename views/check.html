<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Rezultati</title>
    <link rel="stylesheet" href="assets/check.css">
</head>

<body>
    <h1>Preverjanje rezultatov</h1>
    <i>Pravilnost posameznih programov je določena na podlagi rešitev v <b>tests&lt;algoritem&gt;/solutions</b></i>

    <div id="results"></div>

    <script src="assets/checks.js"></script>
    <script>
        // Function to display data
        window.onload = function displayData() {
            const result = document.getElementById('results');

            for (let l in results) {
                const container = document.createElement('div');
                container.classList.add('container');

                const title = document.createElement('h2');
                title.classList.add('lang-title');
                title.innerText = l;

                const lang = document.createElement('div');
                lang.classList.add('lang');

                const algos = document.createElement('div');
                algos.classList.add('algos');

                for (let a in results[l]) {
                    const algo = document.createElement('div');
                    algo.classList.add('algo');

                    const algoTitle = document.createElement('h4');
                    algoTitle.classList.add('algo-title');
                    if (a === "partition") algoTitle.innerText = "Partitioning Problem";
                    else algoTitle.innerText = "Kamada Kawai";

                    algo.appendChild(algoTitle);

                    const tableDiv = document.createElement('div');
                    tableDiv.classList.add('tableDiv');

                    for (let sa in results[l][a]) {
                        const algorithmTable = document.createElement('table');
                        algorithmTable.classList.add('algorithmTable');

                        const headerRow = document.createElement('tr');
                        const headNum = document.createElement('th');
                        headNum.innerText = "Test";
                        headerRow.appendChild(headNum);
                        const headSeq = document.createElement('th');
                        headSeq.innerText = "Sequential";
                        headerRow.appendChild(headSeq);
                        const headPar = document.createElement('th');
                        headPar.innerText = "Parallel";
                        headerRow.appendChild(headPar);

                        algorithmTable.appendChild(headerRow);

                        for (let n in results[l][a][sa]) {
                            const caseRow = document.createElement('tr');

                            const caseNum = document.createElement('td');
                            caseNum.innerText = n;
                            caseRow.appendChild(caseNum);
                            
                            for (let t in results[l][a][sa][n]) {
                                console.log(results[l][a][sa][n][t]);
                                const caseTTime = document.createElement('td');
                                caseTTime.innerText = results[l][a][sa][n][t].time;

                                caseRow.appendChild(caseTTime);

                                if (results[l][a][sa][n][t].correct) {
                                    caseTTime.classList.add('correct');
                                } else {
                                    caseTTime.classList.add('incorrect');
                                }
                            }

                            algorithmTable.appendChild(caseRow);
                        }
                        
                        tableDiv.appendChild(algorithmTable);
                    }

                    algo.appendChild(tableDiv);
                    algos.appendChild(algo);
                }

                lang.appendChild(algos);

                container.appendChild(title);
                container.appendChild(lang);

                result.appendChild(container);
            }

        };
    </script>
</body>

</html>