<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Rezultati</title>
    <link rel="stylesheet" href="assets/check.css">
</head>

<body>
    <h1>Preverjanje rezultatov</h1>
    <i>Pravilnost posameznih programov je določena na podlagi rešitev v <b>tests&lt;algoritem&gt;/solutions</b></i>

    <div id="results"></div>

    <script src="assets/checks.js"></script>
    <script>
        // Function to display data
        window.onload = function displayData() {
            const result = document.getElementById('results');

            for (let l in results) {
                const container = document.createElement('div');
                container.classList.add('container');

                const title = document.createElement('h2');
                title.classList.add('lang-title');
                title.innerText = l;

                const lang = document.createElement('div');
                lang.classList.add('lang');

                const problems = document.createElement('div');
                problems.classList.add('problems');

                for (let p in results[l]) {
                    const problem = document.createElement('div');
                    problem.classList.add('problem');

                    const algoTitle = document.createElement('h4');
                    algoTitle.classList.add('problem-title');
                    algoTitle.innerText = p

                    problem.appendChild(algoTitle);

                    const tableDiv = document.createElement('div');
                    tableDiv.classList.add('tableDiv');

                    const problemTable = document.createElement('table');
                    problemTable.classList.add('problemTable');

                    const headerRow = document.createElement('tr');
                    const headNum = document.createElement('th');
                    headNum.innerText = "Test";
                    headerRow.appendChild(headNum);

                    for (let n in results[l][p]) {
                        for (let a in results[l][p][n]) {
                            const headAlgo = document.createElement('th');
                            headAlgo.innerText = a;
                            headerRow.appendChild(headAlgo);
                            problemTable.appendChild(headerRow);
                        }
                        break;
                    }

                    for (let n in results[l][p]) {
                        const caseRow = document.createElement('tr');
                        const caseNum = document.createElement('td');
                        caseNum.innerText = n;
                        caseRow.appendChild(caseNum);

                        for (let a in results[l][p][n]) {
                            // for (let t in results[l][p][n][a]) {
                            const caseTTime = document.createElement('td');
                            if (!results[l][p][n][a].time) {
                                caseTTime.innerText = "?";
                            } else
                                caseTTime.innerText = results[l][p][n][a].time;

                            if (results[l][p][n][a].correct) {
                                caseTTime.classList.add('correct');
                            } else {
                                caseTTime.classList.add('incorrect');
                            }
                            caseRow.appendChild(caseTTime);
                            // }
                        }
                        problemTable.appendChild(caseRow);
                    }
                    tableDiv.appendChild(problemTable);
                    problem.appendChild(tableDiv);

                    problems.appendChild(problem);
                }

                lang.appendChild(problems);

                container.appendChild(title);
                container.appendChild(lang);

                result.appendChild(container);
            }

        };
    </script>
</body>

</html>